<h1><%= params[:type] %>の作成</h1>
<% form_model = model_selecter %>
<% if form_model.errors.any? %>
  <div id="error_explanation">
    <h2><%= form_model.errors.count %>件のエラーがあります。</h2>
 
    <ul>
    <% form_model.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>
<%= form_with(model: form_model, url: url_selecter, local: true) do |form| %>

  <div class="target_name">
    <%= form.label :target, '内容' %>
    <%= form.text_field :target %>
    <% if params[:type] != 'Dream' &&  params[:type] != 'Step' %>
      <%= form.label :start, '開始' %>
      <%= form.date_field :start %>
      <%= form.label :end, '終了' %>
      <%= form.date_field :end %>
    <% end %>
    
    <% if params[:type] == 'MediumTarget' %>
    <%= form.hidden_field :long_target_id, :value => params[:long_target_id].to_i %>
    <% end %>
    <% if params[:type] == 'Step' %>
    <%= form.hidden_field :medium_target_id, :value => params[:medium_target_id].to_i %>
    <% end %>
   </div>
  <%= form.submit '作成' %>
  
<% end %>

<%= link_to "長期目標一覧を見る", long_targets_path %>

